import{d as K,h as E,g as y,v as O,q as $,o as c,c as u,r as B,e as p,t as w,n as g,x,s as S,b as V,F as U,_,y as A,z as I,A as F,w as M,B as D,T as L}from"./index-CTZ68X3L.js";const T=["id","checked","onClick"],R=["for"],z=["for"],N={style:{"min-height":"0"}},H=K({__name:"tree",props:{treeOptions:{default:()=>[]},padding:{default:20},isAccordion:{type:Boolean,default:!1},type:{default:"default"},modelValue:{},checkedKeys:{default:()=>[]},expandedKeys:{default:()=>[]}},emits:["update:modelValue","update:checkedKeys","update:expandedKeys","clickItem","expand"],setup(b,{emit:m}){const t=b,o=m,n=E({get(){return t.modelValue},set(e){o("update:modelValue",e)}}),k=y(t.checkedKeys),d=y(t.expandedKeys),f=O({isMenu:!1});$(()=>{t.treeOptions.forEach(e=>{e.children&&e.children.length&&(e.isFolder=!0,t.expandedKeys.includes(e.key)&&(e.isOpen=!0)),t.modelValue&&t.modelValue===e.key&&(e.isChecked=!0,o("clickItem",e))}),t.type==="menu"&&(f.isMenu=!0)});const r=e=>{if(e.isFolder)if(t.isAccordion)for(const l of t.treeOptions)l.key===e.key?l.isOpen=!l.isOpen:l.isOpen=!1,v(l);else e.isOpen=!e.isOpen,v(e);else n.value=e.key,o("clickItem",e)},v=e=>{if(e.isOpen)d.value.push(e.key);else{const l=d.value.findIndex(s=>s===e.key);l!==-1&&d.value.splice(l,1)}o("update:expandedKeys",d.value),o("expand",d.value)};return(e,l)=>(c(!0),u(U,null,B(e.treeOptions,s=>(c(),u("div",{class:"item-box",key:s.key},[p("input",{type:"radio",id:`${s.key}`,hidden:"",checked:s.isChecked,name:"tree-item",onClick:a=>r(s)},null,8,T),f.isMenu?(c(),u("label",{key:0,for:`${s.key}`,class:"title title-menu"},[p("p",{style:g({paddingLeft:e.padding+"px"})},w(s.label),5),s.isFolder?(c(),u("div",{key:0,class:x(["icon-triangle",{"icon-open":s.isOpen}])},null,2)):S("",!0)],8,R)):(c(),u("label",{key:1,for:`${s.key}`,class:"title title-default"},[s.isFolder?(c(),u("div",{key:0,class:x(["icon-triangle",{"icon-open":s.isOpen}]),style:g({left:e.padding+"px"})},null,6)):S("",!0),p("p",{style:g({marginLeft:e.padding+16+"px"})},w(s.label),5)],8,z)),p("div",{class:x(["radio-box",{"radio-box-show":s.isOpen}])},[p("div",N,[V(C,{"tree-options":s.children,type:e.type,padding:e.padding+14,onClickItem:l[0]||(l[0]=a=>e.$emit("clickItem",a)),onExpand:l[1]||(l[1]=a=>e.$emit("expand",a)),"is-accordion":e.isAccordion,modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=a=>n.value=a),"checked-keys":k.value,"onUpdate:checkedKeys":l[3]||(l[3]=a=>k.value=a),"expanded-keys":d.value,"onUpdate:expandedKeys":l[4]||(l[4]=a=>d.value=a)},null,8,["tree-options","type","padding","is-accordion","modelValue","checked-keys","expanded-keys"])])],2)]))),128))}}),C=_(H,[["__scopeId","data-v-bcebafd8"]]),q={class:"tree-select-main"},j={key:0,class:"select-layout"},G=["placeholder"],J={key:1,class:"select-layout"},P=K({__name:"treeSelect",props:{treeSelectData:{default:()=>[]},modelValue:{},placeholder:{default:"请选择"},expandedKeys:{default:()=>[]},isAccordion:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1}},emits:["update:modelValue","update:expandedKeys","selectItem","input","expand"],setup(b,{emit:m}){const t=b,o=m,n=O({current:"",isShow:!1}),k=y(),d=y(),f=y(t.modelValue),r=y(t.expandedKeys);$(()=>{window.addEventListener("click",l)}),A(()=>{window.removeEventListener("click",l)});const v=a=>{n.current=a.label,n.isShow=!1,o("update:modelValue",a.key),o("selectItem",a)},e=()=>{o("expand",r.value)},l=a=>{const i=a||window.event;k.value&&!k.value.contains(i.target)&&!d.value.contains(i.target)&&(n.isShow=!1)},s=()=>{n.isShow=!0,o("input",n.current)};return(a,i)=>(c(),u("div",q,[p("div",{class:"input-main",ref_key:"inputRef",ref:d,onClick:i[1]||(i[1]=h=>n.isShow=!n.isShow)},[a.showSearch?(c(),u("div",j,[I(p("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=h=>n.current=h),placeholder:a.placeholder,onInput:s},null,40,G),[[F,n.current]]),p("div",{class:x(["icon-triangle",{"icon-open":n.isShow}])},null,2)])):(c(),u("div",J,[p("p",null,w(n.current),1)]))],512),V(L,{name:"drop"},{default:M(()=>[I(p("div",{class:"tree-main",ref_key:"treeRef",ref:k},[V(C,{"tree-options":a.treeSelectData,"is-accordion":a.isAccordion,type:"menu",onClickItem:v,onExpand:e,modelValue:f.value,"onUpdate:modelValue":i[2]||(i[2]=h=>f.value=h),"expanded-keys":r.value,"onUpdate:expandedKeys":i[3]||(i[3]=h=>r.value=h)},null,8,["tree-options","is-accordion","modelValue","expanded-keys"])],512),[[D,n.isShow]])]),_:1})]))}}),Q=_(P,[["__scopeId","data-v-35af5575"]]),W={class:"views-main"},Y=K({__name:"weather",setup(b){const m=y(7),t=y([1]),o=y([{key:1,label:"选项1",children:[{key:7,label:"选项2"},{key:8,label:"选项3",children:[{key:13,label:"选项22"},{key:14,label:"选项52"},{key:15,label:"选项42"}]},{key:9,label:"选项62",children:[{key:16,label:"选项22"},{key:17,label:"选项23"},{key:18,label:"选项25"}]}]},{key:2,label:"选项27",children:[{key:10,label:"选项25"},{key:11,label:"选项26"},{key:12,label:"选项42",children:[{key:19,label:"选项82",children:[{key:20,label:"选项2"},{key:21,label:"选项2"}]}]}]},{key:3,label:"选项35"},{key:4,label:"选项4"},{key:5,label:"选项5"},{key:6,label:"选项6",children:[{key:22,label:"选项2"},{key:23,label:"选项26"},{key:24,label:"选项26"},{key:25,label:"选项2"},{key:26,label:"选项2"},{key:27,label:"选项2"}]}]),n=()=>{console.log(t.value)},k=()=>{console.log(m.value)},d=f=>{console.log(f)};return(f,r)=>(c(),u("div",W,[V(Q,{"tree-select-data":o.value,modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=v=>m.value=v),"expanded-keys":t.value,"onUpdate:expandedKeys":r[1]||(r[1]=v=>t.value=v),onExpand:n,onSelectItem:k,onInput:d,"show-search":"","is-accordion":""},null,8,["tree-select-data","modelValue","expanded-keys"])]))}});export{Y as default};
